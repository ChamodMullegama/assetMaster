import{r as e,l as s,o as D,w as E,a as P,b as _,c as F,d as c,n as i,f as a,g as m,u as N,i as S,x as p,h as x,s as T,k as H,t as $,F as z}from"./app-d8ea3ead.js";import{f as G,G as O,a as j,b as q,c as I,d as J,e as K,A as Q,L as U}from"./AppLayout-a0a6f737.js";import{S as W}from"./sweetalert2.all-0277b68c.js";import"./vue-multiselect.esm-0bbce239.js";import"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js";import"./_plugin-vue_export-helper-c27b6911.js";const X={class:"header pb-6"},Y={class:"container-fluid"},Z={class:"header-body row"},ee={class:"col-lg-8 align-items-center py-4"},ae=a("h6",{class:"h2 text-dark d-inline-block mb-0"},"Role Management",-1),te={"aria-label":"breadcrumb",class:"d-none d-md-block"},se={class:"breadcrumb breadcrumb-links breadcrumb-dark"},oe={class:"breadcrumb-item"},ne=a("li",{class:"breadcrumb-item active text-maroon","aria-current":"page"}," Role Management ",-1),re={class:"row"},le={class:"col-lg-12"},ce={class:"card shadow pb-3"},ie=a("div",{class:"py-2 mx-3 text-sm card-body"},null,-1),de={class:"row mx-4"},ue={class:"table-responsive"},_e={class:"table"},me=["onClick"],ye={__name:"index",setup(pe){const w=e("text-start text-uppercase");e("text-center text-uppercase");const y=e("text-start");e("text-center"),e("text-center"),e("text-center");const k=e("cursor-pointer"),h=e(null),f=e(1);e([25,50,100]);const v=e(25),C=e({});e({});const d=e([]);e(null),e(null),e([{id:1,name:"Percentage"},{id:2,name:"Amount"}]),e({}),e({}),e(null),e(null),e([]);const b=e(null),g=e({}),r=e(null);s.add(G),s.add(O),s.add(j),s.add(q),s.add(I),s.add(J),s.add(K);const u=()=>{g.value={},b.value=null},B=t=>{if(u(),!(t.response&&t.response.data))return;const{message:o}=t.response.data;R(o)},M=t=>{if(u(),!(t.response&&t.response.data))return;const{message:o,errors:l}=t.response.data;if(b.value=o,l)for(const n in l)g.value[n]=l[n][0]},R=t=>{W.fire({icon:"error",title:"Oops...",text:t,toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},L=async()=>{i(()=>{r.value.start()});try{const t=(await axios.get(route("role.all"),{params:{page:f.value,per_page:v.value,"filter[search]":h.value}})).data;d.value=t.data,C.value=t.meta,i(()=>{r.value.finish()})}catch(t){B(t)}},V=async()=>{i(()=>{r.value.start()});const t=(await axios.get(route("role.all"))).data;d.value=t,i(()=>{r.value.finish()})},A=async t=>{u();try{window.location.href=route("role.edit",t)}catch(o){M(o)}};return D(()=>{V()}),E([h,f,v],()=>{L()}),(t,o)=>{const l=P("font-awesome-icon");return _(),F(Q,{title:"Role Management"},{header:c(()=>[a("div",X,[a("div",Y,[a("div",Z,[a("div",ee,[ae,a("nav",te,[a("ol",se,[a("li",oe,[m(N(S),{href:"/"},{default:c(()=>[m(l,{icon:"fa-solid fa-house",class:"text-maroon"})]),_:1})]),ne])])])])])])]),content:c(()=>[a("div",re,[a("div",le,[a("div",ce,[ie,a("div",de,[a("div",ue,[a("table",_e,[a("thead",null,[a("tr",null,[a("th",{class:p(w.value)},"Roles",2)])]),a("tbody",null,[(_(!0),x(z,null,T(d.value,n=>(_(),x("tr",{key:n.id,class:p(k.value),onClick:H(he=>A(n.id),["prevent"])},[a("td",{class:p(y.value)},$(n.name),3)],10,me))),128))])])])])])])])]),loader:c(()=>[m(U,{ref_key:"loading_bar",ref:r},null,512)]),_:1})}}};export{ye as default};
