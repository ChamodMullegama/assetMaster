import{l as v,r as l,o as j,w as F,a as U,b as d,c as H,d as x,n as m,e as S,f as e,g as w,u as Y,i as q,j as z,p as L,v as G,q as K,h as u,s as T,t as n,F as y,x as t,m as W}from"./app-d8ea3ead.js";import{f as J,a as Q,b as X,c as Z,d as ee,e as ae,A as se,L as te}from"./AppLayout-a0a6f737.js";import{S as le}from"./sweetalert2.all-0277b68c.js";import"./vue-multiselect.esm-0bbce239.js";import"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js";import"./_plugin-vue_export-helper-c27b6911.js";const oe={class:"header pb-6"},ne={class:"container-fluid"},ie={class:"header-body row"},re={class:"col-lg-8 align-items-center py-4"},ce=e("h6",{class:"h2 text-maroon d-inline-block mb-0"}," Assets Serial Change Log",-1),de={"aria-label":"breadcrumb",class:"d-none d-md-block"},ue={class:"breadcrumb breadcrumb-links breadcrumb-dark"},_e={class:"breadcrumb-item"},ve=e("li",{class:"breadcrumb-item active breadcrumb-yellow","aria-current":"page"}," Assets Serial Change Log ",-1),pe=e("div",{class:"col-lg-4 text-right py-4"},null,-1),me={class:"row"},he={class:"col-lg-12"},ge={class:"card shadow"},fe={class:"py-3 filters-margin mx-3 text-sm card-body"},be={class:"flex"},xe={class:"flex items-center text-muted"},ye={class:"inline-block ml-2"},Ce={class:"flex text-muted ml-auto"},ke={class:"inline-block"},we=["value","textContent"],Te={class:"row mx-4"},Ae={class:"table-responsive"},De={class:"table"},Ee={class:"flex mt-1 px-3 mx-1 card-footer table-footer align-items-center"},Se={class:"col-sm-12 col-md-6 p-0"},Le={class:"dataTables_info column__left___padding",id:"DataTables_Table_0_info",role:"status","aria-live":"polite"},Be={class:"col-sm-12 col-md-6 p-0"},Ve={class:"dataTables_paginate paging_simple_numbers column__right___padding",id:"DataTables_Table_0_paginate"},Ne={"aria-label":"Page navigation",style:{float:"right"}},Oe={class:"pagination"},Pe=e("i",{class:"fa-solid fa-angles-left"},null,-1),Ie=[Pe],Me=["onClick"],Re=e("i",{class:"fa-solid fa-angles-right"},null,-1),$e=[Re],Ke={__name:"SerialChangeLog",setup(je){v.add(J),v.add(Q),v.add(X),v.add(Z),v.add(ee),v.add(ae);const r=l("text-start text-uppercase");l("text-center text-uppercase");const c=l("text-start");l("text-center"),l("text-center"),l("text-center");const B=l("cursor-pointer"),h=l(null),g=l(1),V=l([25,50,100]),f=l(25),o=l({});l(0);const C=l([]),A=l(null),D=l({}),_=l(null),E=()=>{D.value={},A.value=null},k=async s=>{g.value=s,b()},N=()=>{g.value=1,b()},O=async()=>{b()},P=s=>{if(E(),!(s.response&&s.response.data))return;const{message:i}=s.response.data;M(i)},I=s=>{if(E(),!(s.response&&s.response.data))return;const{message:i,errors:p}=s.response.data;if(A.value=i,p)for(const a in p)D.value[a]=p[a][0]},M=s=>{le.fire({icon:"error",title:"Oops...",text:s,toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},R=async()=>{m(()=>{_.value.start()});try{const s=(await S.get(route("serial_change_log.all"))).data;C.value=s.data,o.value=s.meta,m(()=>{_.value.finish()})}catch(s){I(s),m(()=>{_.value.finish()})}},b=async()=>{m(()=>{_.value.start()});try{const s=(await S.get(route("serial_change_log.all"),{params:{page:g.value,per_page:f.value,"filter[search]":h.value}})).data;C.value=s.data,o.value=s.meta,m(()=>{_.value.finish()})}catch(s){P(s)}};return j(()=>{R()}),F([h,g,f],()=>{b()}),(s,i)=>{const p=U("font-awesome-icon");return d(),H(se,{title:"Assets"},{header:x(()=>[e("div",oe,[e("div",ne,[e("div",ie,[e("div",re,[ce,e("nav",de,[e("ol",ue,[e("li",_e,[w(Y(q),{href:"/"},{default:x(()=>[w(p,{icon:"fa-solid fa-house",class:"text-maroon"})]),_:1})]),ve])])]),pe])])])]),content:x(()=>[e("div",me,[e("div",he,[e("div",ge,[e("div",fe,[e("div",be,[e("div",xe,[z(" Search: "),e("div",ye,[L(e("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":i[0]||(i[0]=a=>h.value=a),onKeyup:N},null,544),[[G,h.value]])])]),e("div",Ce,[e("div",ke,[L(e("select",{class:"form-control form-control-sm per-page-entry",value:25,"onUpdate:modelValue":i[1]||(i[1]=a=>f.value=a),onChange:O},[(d(!0),u(y,null,T(V.value,a=>(d(),u("option",{key:a,value:a,textContent:n(a)},null,8,we))),128))],544),[[K,f.value]])])])])]),e("div",Te,[e("div",Ae,[e("table",De,[e("thead",null,[e("tr",null,[e("th",{class:t(r.value)},"BARCODE",2),e("th",{class:t(r.value)},"CATEGORY",2),e("th",{class:t(r.value)},"LOCATION ID",2),e("th",{class:t(r.value)},"DESCRIPTION",2),e("th",{class:t(r.value)},"OLD SERIAL",2),e("th",{class:t(r.value)},"NEW SERIAL",2),e("th",{class:t(r.value)},"UPDATE BY",2),e("th",{class:t(r.value)},"CREATED AT",2),e("th",{class:t(r.value)},null,2)])]),e("tbody",null,[(d(!0),u(y,null,T(C.value,a=>(d(),u("tr",{key:a.id,class:t(B.value)},[e("td",{class:t(c.value)},n(a.barcode),3),e("td",{class:t(c.value)},n(a.category_name),3),e("td",{class:t(c.value)},n(a.location_name),3),e("td",{class:t(c.value)},n(a.description),3),e("td",{class:t(c.value)},n(a.old_serial),3),e("td",{class:t(c.value)},n(a.new_serial),3),e("td",{class:t(c.value)},n(a.updated_person),3),e("td",{class:t(c.value)},n(a.created_date),3)],2))),128))])])])]),e("div",Ee,[e("div",Se,[e("div",Le," Showing "+n(o.value.from)+" to "+n(o.value.to)+" of "+n(o.value.total)+" entries ",1)]),e("div",Be,[e("div",Ve,[e("nav",Ne,[e("ul",Oe,[e("li",{class:t(["page-item",o.value.current_page==1?"disabled":""])},[e("a",{class:"page-link",href:"javascript:void(0)",onClick:i[2]||(i[2]=a=>k(o.value.current_page-1))},Ie)],2),(d(!0),u(y,null,T(o.value.last_page,(a,$)=>(d(),u(y,null,[a==1||a==o.value.last_page||Math.abs(a-o.value.current_page)<5?(d(),u("li",{class:t(["page-item",o.value.current_page==a?"active":""]),key:$},[e("a",{class:"page-link",onClick:Fe=>k(a)},n(a),9,Me)],2)):W("",!0)],64))),256)),e("li",{class:t(["page-item",o.value.current_page==o.value.last_page?"disabled":""])},[e("a",{class:"page-link",href:"javascript:void(0)",onClick:i[3]||(i[3]=a=>k(o.value.current_page+1))},$e)],2)])])])])])])])])]),loader:x(()=>[w(te,{ref_key:"loading_bar",ref:_},null,512)]),_:1})}}};export{Ke as default};
