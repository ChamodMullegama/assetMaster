import{l as g,r as s,o as I,w as K,a as J,b as n,c as Q,d as x,n as C,e as b,f as e,g as r,u as X,i as Z,h as i,j as B,k,m as p,p as w,v as T,q as ee,s as j,t as c,F as N,x as h}from"./app-d8ea3ead.js";import{f as te,a as ae,b as oe,c as se,d as le,e as ne,A as ie,L as de}from"./AppLayout-a0a6f737.js";import{S as re}from"./sweetalert2.all-0277b68c.js";import"./vue-multiselect.esm-0bbce239.js";import{V as m}from"./mixins-d3422c03.js";import"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js";import"./_plugin-vue_export-helper-c27b6911.js";const ce={class:"header pb-6"},me={class:"container-fluid"},ue={class:"header-body row"},_e={class:"col-lg-8 align-items-center py-4"},he=e("h6",{class:"h2 text-maroon d-inline-block mb-0"}," Category Management",-1),ve={"aria-label":"breadcrumb",class:"d-none d-md-block"},pe={class:"breadcrumb breadcrumb-links breadcrumb-dark"},fe={class:"breadcrumb-item"},ge=e("li",{class:"breadcrumb-item active breadcrumb-yellow","aria-current":"page"}," Category Management ",-1),be={class:"col-lg-4 text-right py-4"},ye=["onClick"],xe={class:"row"},Ce={class:"col-lg-12"},ke={class:"card shadow"},we={class:"py-3 filters-margin mx-3 text-sm card-body"},Me={class:"flex"},Ve={class:"items-center text-muted"},Ee=e("div",{class:""},"Search:",-1),Te={class:"inline-block"},Ne={class:"flex text-muted ml-auto mt-4"},De={class:"inline-block"},Ae=["value","textContent"],Se={class:"row mx-4"},$e={class:"table-responsive"},Be={class:"table"},je=e("th",{class:"textClassHead text-start"},"Code",-1),Le={class:"text-right"},Ue=["onClick"],Pe=["onClick"],Ye={class:"flex mt-1 px-3 mx-1 card-footer table-footer align-items-center"},qe={class:"col-sm-12 col-md-6 p-0"},Fe={class:"dataTables_info column__left___padding",id:"DataTables_Table_0_info",role:"status","aria-live":"polite"},He={class:"col-sm-12 col-md-6 p-0"},Oe={class:"dataTables_paginate paging_simple_numbers column__right___padding",id:"DataTables_Table_0_paginate"},Re={"aria-label":"Page navigation",style:{float:"right"}},Ge={class:"pagination"},We=e("i",{class:"fa-solid fa-angles-left"},null,-1),ze=[We],Ie=["onClick"],Ke=e("i",{class:"fa-solid fa-angles-right"},null,-1),Je=[Ke],Qe={class:"modal fade",id:"newCategoryModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"newCategoryModal","aria-hidden":"true"},Xe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Ze={class:"modal-content"},et={class:"modal-header"},tt=e("h5",{class:"modal-title font-weight-bolder breadcrumb-yellow text-gradient title_modal",id:"add_brandLabel"}," NEW CATEGORY",-1),at={type:"button",class:"close btn","data-dismiss":"modal","aria-label":"Close"},ot={"aria-hidden":"true"},st={class:"modal-body pb-2 mt-0 pt-0"},lt=["onSubmit"],nt={class:"row mb-1"},it=e("div",{for:"name",class:"col-md-3 col-form-label"},"NAME",-1),dt={class:"col-md-9"},rt={key:0,id:"msg_name",class:"text-danger form-text text-error-msg error"},ct={class:"text-right mt-2"},mt={type:"submit",class:"btn btn-round btn-outline-primary btn-sm mb-0"},ut={class:"modal fade",id:"editCategoryModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"editCategoryModal","aria-hidden":"true"},_t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ht={class:"modal-content"},vt={class:"modal-header"},pt=e("h5",{class:"modal-title font-weight-bolder breadcrumb-yellow text-gradient title_modal",id:"add_brandLabel"}," EDIT CATEGORY",-1),ft={type:"button",class:"close btn","data-dismiss":"modal","aria-label":"Close"},gt={"aria-hidden":"true"},bt={class:"modal-body pb-2 pt-0 mt-0"},yt=["onSubmit"],xt={class:"row mb-1"},Ct=e("div",{for:"code",class:"col-md-3 col-form-label"},"CODE",-1),kt={class:"col-md-9"},wt={key:0,id:"msg_code",class:"text-danger form-text text-error-msg error"},Mt={class:"row mb-1"},Vt=e("div",{for:"name",class:"col-md-3 col-form-label"},"NAME",-1),Et={class:"col-md-9"},Tt={key:0,id:"msg_name",class:"text-danger form-text text-error-msg error"},Nt={class:"text-right mt-2"},Dt={type:"submit",class:"btn btn-round btn-outline-primary btn-sm mb-0"},qt={__name:"index",setup(At){g.add(te),g.add(ae),g.add(oe),g.add(se),g.add(le),g.add(ne);const L=s("text-start text-uppercase");s("text-center text-uppercase");const U=s("text-start");s("text-center"),s("text-center"),s("text-center");const P=s("cursor-pointer"),M=s(null),V=s(1),Y=s([25,50,100]),E=s(25),l=s({}),y=s({}),D=s([]),_=s({});s(0),s(null),s(null);const f=s({}),d=s(null),A=async a=>{V.value=a,v()},q=()=>{V.value=1,v()},F=async()=>{v()},H=async()=>{C(()=>{d.value.start()});try{const a=(await b.get(route("category.all"))).data;D.value=a.data,l.value=a.meta,C(()=>{d.value.finish()})}catch(a){m.methods.convertValidationNotification(a),C(()=>{d.value.finish()})}},v=async()=>{C(()=>{d.value.start()});try{const a=(await b.get(route("category.all"),{params:{page:V.value,per_page:E.value,"filter[search]":M.value}})).data;D.value=a.data,l.value=a.meta,C(()=>{d.value.finish()})}catch(a){convertValidationNotification(a)}},O=async()=>{m.methods.resetValidationErrors();try{await b.post(route("category.store"),y.value),v(),$("#newCategoryModal").modal("hide"),y.value={},m.methods.successMessage("Category created successfully")}catch(a){m.methods.convertValidationNotification(a)}},R=a=>{try{re.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#C00202",cancelButtonColor:"#6CA925",confirmButtonText:"Yes, delete it!"}).then(o=>{o.isConfirmed&&b.delete(route("category.delete",a)).then(u=>{v()})})}catch(o){m.methods.convertValidationNotification(o)}},G=async a=>{d.value.start(),m.methods.resetValidationErrors();try{const o=(await b.get(route("category.get",a))).data;_.value=o.data,$("#editCategoryModal").modal("show"),d.value.finish()}catch(o){m.methods.convertValidationError(o),d.value.finish()}},W=async()=>{m.methods.resetValidationErrors();try{await b.post(route("category.update",_.value.id),_.value),v(),$("#editCategoryModal").modal("hide"),_.value={},m.methods.successMessage("Category updated successfully")}catch(a){m.methods.convertValidationNotification(a)}},z=()=>{d.value.start(),y.value={},$("#newCategoryModal").modal("show"),d.value.finish()};return I(()=>{H()}),K([M,V,E],()=>{v()}),(a,o)=>{const u=J("font-awesome-icon");return n(),Q(ie,{title:"Category Management"},{header:x(()=>[e("div",ce,[e("div",me,[e("div",ue,[e("div",_e,[he,e("nav",ve,[e("ol",pe,[e("li",fe,[r(X(Z),{href:"/"},{default:x(()=>[r(u,{icon:"fa-solid fa-house",class:"text-maroon"})]),_:1})]),ge])])]),e("div",be,[a.can("create_category")?(n(),i("a",{key:0,href:"javascript:void(0)",onClick:k(z,["prevent"]),class:"btn btn-sm btn-neutral float-end text-maroon"},[r(u,{icon:"fa-solid fa-circle-plus"}),B(" ADD NEW ")],8,ye)):p("",!0)])])])])]),content:x(()=>[e("div",xe,[e("div",Ce,[e("div",ke,[e("div",we,[e("div",Me,[e("div",Ve,[Ee,e("div",Te,[w(e("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[0]||(o[0]=t=>M.value=t),onKeyup:q},null,544),[[T,M.value]])])]),e("div",Ne,[e("div",De,[w(e("select",{class:"form-control form-control-sm per-page-entry",value:25,"onUpdate:modelValue":o[1]||(o[1]=t=>E.value=t),onChange:F},[(n(!0),i(N,null,j(Y.value,t=>(n(),i("option",{key:t,value:t,textContent:c(t)},null,8,Ae))),128))],544),[[ee,E.value]])])])])]),e("div",Se,[e("div",$e,[e("table",Be,[e("thead",null,[e("tr",null,[je,e("th",{class:h(L.value)},"Name",2),e("th",{class:h(L.value)},null,2)])]),e("tbody",null,[(n(!0),i(N,null,j(D.value,t=>(n(),i("tr",{key:t.id,class:h(P.value)},[e("td",{class:h(U.value)},c(t.code),3),e("td",{class:h(U.value)},c(t.name),3),e("td",Le,[a.can("update_category")?(n(),i("a",{key:0,href:"javascript:void(0)",onClick:k(S=>G(t.id),["prevent"]),class:"p-2 float-end"},[r(u,{icon:"fa-solid fa-pen",class:"text-ash text-right"})],8,Ue)):p("",!0),a.can("delete_category")?(n(),i("a",{key:1,href:"javascript:void(0)",onClick:k(S=>R(t.id),["prevent"]),class:"p-2 float-end"},[r(u,{icon:"fa-solid fa-trash",class:"text-ash text-right"})],8,Pe)):p("",!0)])],2))),128))])])])]),e("div",Ye,[e("div",qe,[e("div",Fe," Showing "+c(l.value.from)+" to "+c(l.value.to)+" of "+c(l.value.total)+" entries ",1)]),e("div",He,[e("div",Oe,[e("nav",Re,[e("ul",Ge,[e("li",{class:h(["page-item",l.value.current_page==1?"disabled":""])},[e("a",{class:"page-link",href:"javascript:void(0)",onClick:o[2]||(o[2]=t=>A(l.value.current_page-1))},ze)],2),(n(!0),i(N,null,j(l.value.last_page,(t,S)=>(n(),i(N,null,[t==1||t==l.value.last_page||Math.abs(t-l.value.current_page)<5?(n(),i("li",{class:h(["page-item",l.value.current_page==t?"active":""]),key:S},[e("a",{class:"page-link",onClick:St=>A(t)},c(t),9,Ie)],2)):p("",!0)],64))),256)),e("li",{class:h(["page-item",l.value.current_page==l.value.last_page?"disabled":""])},[e("a",{class:"page-link",href:"javascript:void(0)",onClick:o[3]||(o[3]=t=>A(l.value.current_page+1))},Je)],2)])])])])])])])])]),modals:x(()=>[e("div",Qe,[e("div",Xe,[e("div",Ze,[e("div",et,[tt,e("button",at,[e("span",ot,[r(u,{icon:"fa-solid fa-xmark"})])])]),e("div",st,[e("form",{role:"form text-left",onSubmit:k(O,["prevent"]),enctype:"multipart/form-data"},[e("div",nt,[it,e("div",dt,[w(e("input",{type:"text",class:"form-control form-control-sm",name:"name",id:"name","onUpdate:modelValue":o[4]||(o[4]=t=>y.value.name=t),placeholder:"Name",required:""},null,512),[[T,y.value.name]]),f.value.name?(n(),i("small",rt,c(f.value.name),1)):p("",!0)])]),e("div",ct,[e("button",mt,[r(u,{icon:"fa-solid fa-floppy-disk"}),B(" CREATE ")])])],40,lt)])])])]),e("div",ut,[e("div",_t,[e("div",ht,[e("div",vt,[pt,e("button",ft,[e("span",gt,[r(u,{icon:"fa-solid fa-xmark"})])])]),e("div",bt,[e("form",{role:"form text-left",onSubmit:k(W,["prevent"]),enctype:"multipart/form-data"},[e("div",xt,[Ct,e("div",kt,[w(e("input",{type:"text",class:"form-control form-control-sm",name:"code",id:"code","onUpdate:modelValue":o[5]||(o[5]=t=>_.value.code=t),placeholder:"Code",disabled:""},null,512),[[T,_.value.code]]),f.value.code?(n(),i("small",wt,c(f.value.code),1)):p("",!0)])]),e("div",Mt,[Vt,e("div",Et,[w(e("input",{type:"text",class:"form-control form-control-sm",name:"name",id:"name","onUpdate:modelValue":o[6]||(o[6]=t=>_.value.name=t),placeholder:"Name",required:""},null,512),[[T,_.value.name]]),f.value.name?(n(),i("small",Tt,c(f.value.name),1)):p("",!0)])]),e("div",Nt,[e("button",Dt,[r(u,{icon:"fa-solid fa-floppy-disk"}),B(" UPDATE ")])])],40,yt)])])])])]),loader:x(()=>[r(de,{ref_key:"loading_bar",ref:d},null,512)]),_:1})}}};export{qt as default};
